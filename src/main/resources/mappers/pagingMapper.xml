<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.itwillbs.mappers.pagingMapper">

<!-- 필요한 도메인 맵핑 -->
	<resultMap id="CustomerVOMap" type="CustomerVO">
		<result property="cust_status" column="status_name"/>
		<result property="cust_id" column="id"/>
		<result property="1" column="startRow"/>
		<result property="5" column="pageSize"/>
	</resultMap>


<!-- 필요한 도메인 맵핑 -->


<!--  	전체 리스트 갯수 조회  -->
	<select id="getListAll" resultType="_int">
		SELECT COUNT(*) FROM ${table} 
		WHERE ${status_name}=${status_value}
	</select>
<!-- 	전체 리스트 갯수 조회  -->

<!-- 아무조건이 없을 때 목록갯수 가져오기  -->
	<select id="getListPageSizeAll" resultType="_int">
		SELECT COUNT(*) FROM ${table} 
		WHERE ${status_name}=${status_value} 
		limit #{startRow}, #{pageSize} 
	</select>
<!-- 아무조건이 없을 때 목록갯수 가져오기  -->

<!--  	검색어+페이지갯수 제한 전체 목록 갯수 가져오기  -->
	<select id="getListSearchAll" resultType="_int">
		SELECT COUNT(*) FROM ${table}
		WHERE  ${status_name}=${status_value}
		AND ${selector} LIKE CONCAT('%', #{search}, '%')
	</select>
<!--  	검색어+페이지갯수 제한 전체 목록 갯수 가져오기  -->

<!-- 필터처리+페이지갯수 제한 전체 목록 가져오기  -->
	<select id="getListFilterAll" resultType="_int">
		SELECT COUNT(*) FROM ${table}
		WHERE ${column_name} = #{column_value} AND ${status_name}=${status_value} 
		LIMIT #{startRow}, #{pageSize}
	</select>
<!-- 필터처리+페이지갯수 제한 전체 목록 가져오기  -->

<!-- 검색어+필터처리+페이지갯수 제한 전체 목록 가져오기  -->
	<select id="getListSearchAndFilterAll" resultType="_int">
		SELECT COUNT(*) FROM ${table}
		WHERE ${column_name} = #{column_value} AND ${status_name}=${status_value}  
		AND ${selector} LIKE CONCAT('%', #{search}, '%') LIMIT #{startRow}, #{pageSize}
	</select>
<!-- 검색어+필터처리+페이지갯수 제한 전체 목록 가져오기  -->




<!-- 아무조건이 없을 때 목록 배열 가져오기  -->
	<select id="getListPageSizeObject" resultType="CustomerVO">
		SELECT * FROM ${table} 
		WHERE ${status_name}=${status_value} 
		ORDER BY ${id} DESC LIMIT #{startRow}, #{pageSize}
	</select>
<!-- 아무조건이 없을 때 목록갯수 가져오기  -->	
	
<!--  	검색어+페이지갯수 제한 전체 목록 배열 가져오기  -->
	<select id="getListSearchObject" resultType="CustomerVO">
		SELECT * FROM ${table} 
		WHERE ${status_name} = ${status_value}
		AND ${selector} LIKE CONCAT('%', #{search}, '%') 
		ORDER BY ${id} DESC LIMIT #{startRow}, #{pageSize}
	</select>
<!--  	검색어+페이지갯수 제한 전체 목록 배열 가져오기  -->	
	
<!-- 필터처리+페이지갯수 제한 전체 목록 가져오기  -->
	<select id="getListFilterObject" resultType="CustomerVO">
		SELECT * FROM ${table} 
		WHERE ${column_name} = #{column_value} AND ${status_name} = ${status_value} 
		ORDER BY ${id} DESC LIMIT #{startRow}, #{pageSize}
	</select>
<!-- 필터처리+페이지갯수 제한 전체 목록 가져오기  -->

<!-- 검색어+필터처리+페이지갯수 제한 전체 목록 가져오기  -->
	<select id="getListSearchFilterObject" resultType="CustomerVO">
		SELECT * FROM ${table}
		WHERE ${column_name} = #{column_value} AND ${status_name}=${status_value}  
		AND ${selector} LIKE CONCAT('%', #{search}, '%') 
		ORDER BY ${id} DESC LIMIT #{startRow}, #{pageSize}
	</select>
<!-- 검색어+필터처리+페이지갯수 제한 전체 목록 가져오기  -->
	
</mapper>
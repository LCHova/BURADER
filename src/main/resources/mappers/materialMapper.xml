<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">



<mapper namespace="com.itwillbs.mappers.materialMapper">

<!-- 자재 목록 조회  -->
	<select id="getMaterialList" resultType="com.itwillbs.domain.MaterialVO">
		select * from material
	</select>
<!-- 자재 목록 조회  -->


<!-- 자재 정보 조회 -->
	<select id="getMaterialInfo" resultType="com.itwillbs.domain.MaterialVO">
		select * from material 
		where ma_id = #{ma_id}
	</select>
<!-- 자재 정보 조회 -->


<!-- 자재 등록 -->
<!-- ma_id는 자동넘버링 기능 추가 -->
	<insert id="insertMaterial">
		insert into material (ma_id, ma_name, unit_cost, whs_num, shelt_position, ma_image, ma_regdate, ma_emp, ma_qty)
		values (#{ma_id}, #{ma_name}, #{unit_cost}, #{whs_num}, #{shelt_position}, #{ma_image}, now(), #{ma_emp}, 0)
	</insert>
<!-- 자재 등록 -->


<!-- 자재 정보 업데이트 -->
	<update id="modifyMaterial" >
		update material set ma_name=#{ma_name}, unit_cost=#{unit_cost}, whs_num=#{whs_num}, shelt_position=#{shelt_position}, ma_image=#{ma_image}, ma_regdate=now(), ma_emp=#{ma_emp}, ma_qty=#{ma_qty}
		where ma_id = #{ma_id}
	</update>
<!-- 자재 정보 업데이트 -->


<!-- 자재 삭제 -->
	<delete id="deleteMaterial">
		delete from material
		where ma_id = #{ma_id}
	</delete>
<!-- 자재 삭제 -->






</mapper>